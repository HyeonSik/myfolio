!function(){"use strict";function o(){$("#nav_logo_image").click(function(){location.href="/"})}function a(){$(".start-portfolio").click(function(){location.href="/template/start"})}function t(){$("#login_modal_login_btn").click(function(){var o,a=$("#login_modal_input_id").val(),t=$("#login_modal_input_pw").val();return a?t?(o={id:a,pw:t},void $.ajax({url:"/ajax/user/login",type:"POST",data:o,error:function(){alert("Login fail! (Server error)")},success:function(o){1===o.code&&"login success"===o.msg?($("#login_modal").modal("hide"),location.reload(!0)):alert("Check your ID and Password!")}})):void alert("Input your Password!"):void alert("Input your ID!")})}function i(){var o=/^[A-Za-z0-9+]*$/,a=/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i;$("#join_modal_join_btn").click(function(){var t,i=$("#join_modal_input_id").val(),n=$("#join_modal_input_pw").val(),r=$("#join_modal_input_pw_confirm").val(),e=$("#join_modal_input_name").val();return i&&a.test(i)?n&&o.test(n)?e?n!==r?void alert("Input your password."):(t={id:i,pw:n,name:e},void $.ajax({url:"/ajax/user/join",type:"POST",data:t,error:function(){alert("Signup fail! (Server error)")},success:function(o){return 0===o.code?void alert(o.msg):(alert("Signup success!"),$("#join_modal").modal("hide"),void location.reload(!0))}})):void alert("Input your name."):void alert("Check your password."):void alert("Check your id.(id must be email)")})}function n(){$("#nav_logout_btn").click(function(){$.ajax({url:"/ajax/user/logout",type:"POST",error:function(){alert("Logout fail! (Server error)")},success:function(){alert("Logout success!"),location.reload(!0)}})})}function r(){$(".select-template-container > div").click(function(){var o=$(this).data("id");return IS_LOGIN?void(confirm("Do you want to use this template?")&&$.ajax({url:"/ajax/portfolio/template/"+o,type:"POST",error:function(){alert("Portfolio make fail! (Server error)")},success:function(o){return 0===o.code?void alert(o.msg):void(location.href="/"+o.userName)}})):void $("#login_modal").modal("show")})}function e(){o(),a(),t(),i(),n(),r()}e()}();